<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<%@ page import="java.io.PrintWriter" %>
<%@ page import="user.UserDAO" %>
<%@ page import="user.User" %>
<%@ page import="java.util.ArrayList" %>
<%@include file = "/assets/header.jsp"%>

<% if ("POST".equals(request.getMethod())) {

  if(request.getParameter("id") == null){ //user beans를 사용하는 것은 db 사용을 의미하진 않음.
    PrintWriter script = response.getWriter();
    script.println("<script>");
    script.println("alert('입력이 안된 사항이 있습니다.')");
    script.println("</script>");
  } else {
    UserDAO userDAO = new UserDAO();
    int result = userDAO.searchId(request.getParameter("id"));
    if(result == 1){
      PrintWriter script = response.getWriter();
      script.println("<script>");
      script.println("alert('중복된 아이디입니다')");
      script.println("</script>");
    } else {
      PrintWriter script = response.getWriter();
      script.println("<script>");
      script.println("alert('존재하지 않는 아이디입니다')");
      script.println("</script>");
    }
  }
} %>
<div class="bg-light">

  <div class="page-hero-section bg-image hero-mini" style="background-image: url(/bank/assets/img/hero_mini.svg);">
    <div class="hero-caption">
      <div class="container fg-white h-100">
        <div class="row justify-content-center align-items-center text-center h-100">
          <div class="col-lg-6">
            <h2 class="mb-4 fw-medium">SQLi Blind : EASY</h2>
            <nav aria-label="breadcrumb">
              <ol class="breadcrumb breadcrumb-dark justify-content-center bg-transparent">
                <li class="breadcrumb-item"><a href="/bank/main.jsp">Home</a></li>
                <li class="breadcrumb-item active" aria-current="page">SQLi Blind : EASY</li>
              </ol>
            </nav>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="page-section wow fadeInUp">
    <img src ="/bank/assets/footerimg/e.png" style="position:absolute; left: 200px; top: -120px; z-index:+1;"/>
       <div class="row justify-content-center">
    <div class="col-md-6 col-lg-5 my-3 wow fadeInUp">
            <div class="card-page">
       에러페이지로 원하는 데이터를 출력해보세요
    </div> </div></div>
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-md-6 col-lg-5 my-3 wow fadeInUp">
          
          <div class="card-page">
            <h3 class="fw-normal">중복확인</h3>
            <form method="POST" class="mt-3" action="sqli_blind_easy.jsp">
              <div class="form-group">
                <label for="id" class="fw-medium fg-grey">ID</label>
                <input type="text" class="form-control" name="id">
              </div>
    
    
              <div class="form-group mt-4">
			  
			  <div class="col-sm">
              <button type="submit" class="btn btn-primary btn-block btn-sm">중복확인</button>
			  </div>
			  </form>
              
    
			
                
              </div>
			  
          </div>
        </div>
      </div>
    </div>
  </div>

</div> <!-- .bg-light -->

<%@include file = "/assets/footer.jsp"%>
</body>
</html>